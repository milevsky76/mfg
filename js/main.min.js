null==localStorage.getItem("filterState")&&localStorage.setItem("filterState","");let filter=document.getElementById("filter"),inputsFilter=filter.getElementsByClassName("filter__input");for(let e=0;e<inputsFilter.length;e++){const t=inputsFilter[e];t.value==localStorage.getItem("filterState")&&(t.checked=!0)}for(let e=0;e<inputsFilter.length;e++){const t=inputsFilter[e];"onpropertychange"in t?t.onpropertychange=function(){"checked"==event.propertyName&&(localStorage.setItem("filterState",t.value),hiding(localStorage.getItem("filterState")))}:t.onchange=function(){localStorage.setItem("filterState",t.value),hiding(localStorage.getItem("filterState"))}}function hiding(e){let t=document.getElementsByClassName("mfg__item");if(""==e)for(let e=0;e<t.length;e++)t[e].style.display="block";else"true"==e?choiceBN(t,"none","block"):"false"==e&&choiceBN(t,"block","none")}function choiceBN(e,t,l){for(let a=0;a<e.length;a++)e[a].classList.contains("mfg__item_state_watching")&&(e[a].style.display=t),e[a].classList.contains("mfg__item_state_watched")&&(e[a].style.display=l)}let pictureLocal="./img/",list=document.getElementById("mfg");function outputMFG(){list.innerHTML="",mfgbd.forEach(e=>{createLi(e)})}function createLi(e){let t=document.createElement("li"),l="mfg__item ";e.duration.state?l+="mfg__item_state_watched":l+="mfg__item_state_watching",t.className=l,createA(e,t),list.append(t)}function createA(e,t){let l=document.createElement("a");l.href=e.link.video,l.className="mfg__link",createImg(e,l),createSpan(e,l),t.append(l)}function createImg(e,t){let l=document.createElement("img");""==e.link.picture.local?l.src=e.link.picture.cdn:l.src=pictureLocal+e.link.picture.local,l.alt=e.name,l.title=e.name,l.className="mfg__img",t.append(l)}function createSpan(e,t){let l=document.createElement("span"),a="";e.duration.season>0&&(a=e.duration.season+" сезон"),e.duration.episode>0&&(a+=" "+e.duration.episode+" серия"),l.textContent=a,l.className="mfg__duration",t.append(l)}outputMFG(),hiding(localStorage.getItem("filterState"));