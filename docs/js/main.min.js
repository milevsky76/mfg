const inputsFilter=document.getElementsByClassName("filter__input"),mfgList=document.getElementById("mfg"),itemList=mfgList.getElementsByClassName("mfg__item"),elementTemplate=document.getElementById("element-template");let filterState=localStorage.getItem("filterState");null===filterState&&(filterState="",localStorage.setItem("filterState",filterState));for(let t=0;t<inputsFilter.length;t++){const e=inputsFilter[t];e.value===filterState&&(e.checked=!0),e.addEventListener("change",(()=>{localStorage.setItem("filterState",e.value),updateVisibility(localStorage.getItem("filterState"))}))}function updateVisibility(t){for(let e=0;e<itemList.length;e++){const i=itemList[e];""===t?i.style.display="block":"watched"===t&&i.classList.contains("mfg__item--watching")||"watching"===t&&i.classList.contains("mfg__item--watched")?i.style.display="none":i.style.display="block"}}seriesData.forEach((t=>{const e=elementTemplate.content.cloneNode(!0);e.querySelector(".mfg__item").classList.add(t.duration.state?"mfg__item--watched":"mfg__item--watching");e.querySelector(".mfg__link").href=`https://www.google.com/search?q=сериал+${encodeURIComponent(t.name)}`;const i=e.querySelector(".mfg__img");i.src=`./img/${t.picture.local}.jpg`,i.alt=t.name,i.title=t.name;e.querySelector(".mfg__duration").textContent=(t.duration.season>0?`${t.duration.season} сезон`:"")+(t.duration.episode>0?` ${t.duration.episode} серия`:""),mfgList.appendChild(e)})),updateVisibility(filterState);